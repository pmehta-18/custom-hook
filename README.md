A custom hook for managing loading, error and success state while invoking API call